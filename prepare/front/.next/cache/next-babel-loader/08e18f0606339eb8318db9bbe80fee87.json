{"ast":null,"code":"import { all, fork } from \"redux-saga/effects\";\nimport axios from 'axios';\nexport default function* userSaga() {\n  yield all([fork(watchLogIn), fork(watchLogOut)]);\n}\n\nfunction* watchLogIn() {\n  yield takeLatest('LOG_IN_REQUEST', logIn); //LOG_IN이 들어오면 logIn을 실행하는 일종의 이벤트리스너?\n} //take의 치명적 단점은 한 번 밖에 listend을 안한다는 것. --> 그래서 while true로 감쌈. or takeEvery 사용\n\n\nfunction* watchLogOut() {\n  yield takeLatest('LOG_OUT_REQUEST', logOut); //takeLeading은 첫번째꺼\n}\n\nfunction logInAPI(data) {\n  return axios.post('/api/login', data);\n}\n\nfunction* logIn(action) {\n  try {\n    // const result = yield call(logInAPI, action.data);\n    yield delay(1000);\n    yield put({\n      type: 'LOG_IN_SUCCESS' // data: result.data,\n\n    });\n  } catch (err) {\n    yield put({\n      // put은 dispatch와 거의 같음.\n      type: 'LOG_IN_FAILURE' // data: err.response.data,\n\n    });\n  }\n}\n\nfunction logOutAPI() {\n  return axios.post('/api/logout');\n}\n\nfunction* logOut() {\n  try {\n    // const result = yield call(logOutAPI);\n    yield delay(1000);\n    yield put({\n      type: 'LOG_OUT_SUCCESS' // data: result.data,\n\n    });\n  } catch (err) {\n    yield put({\n      // put은 dispatch와 거의 같음.\n      type: 'LOG_OUT_FAILURE' // data: err.response.data,\n\n    });\n  }\n}","map":{"version":3,"sources":["/Users/beomso0/Desktop/godev/birdSns/prepare/front/sagas/user.js"],"names":["all","fork","axios","userSaga","watchLogIn","watchLogOut","takeLatest","logIn","logOut","logInAPI","data","post","action","delay","put","type","err","logOutAPI"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,QAA0B,oBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAAUC,QAAV,GAAqB;AAChC,QAAMH,GAAG,CAAC,CACNC,IAAI,CAACG,UAAD,CADE,EAENH,IAAI,CAACI,WAAD,CAFE,CAAD,CAAT;AAIH;;AAED,UAAUD,UAAV,GAAuB;AACnB,QAAME,UAAU,CAAC,gBAAD,EAAmBC,KAAnB,CAAhB,CADmB,CACwB;AAC9C,C,CAAC;;;AAEF,UAAUF,WAAV,GAAwB;AACpB,QAAMC,UAAU,CAAC,iBAAD,EAAoBE,MAApB,CAAhB,CADoB,CACyB;AAChD;;AAED,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACpB,SAAOR,KAAK,CAACS,IAAN,CAAW,YAAX,EAAyBD,IAAzB,CAAP;AACH;;AAED,UAAUH,KAAV,CAAgBK,MAAhB,EAAwB;AACpB,MAAG;AACC;AACA,UAAMC,KAAK,CAAC,IAAD,CAAX;AACA,UAAMC,GAAG,CAAC;AACNC,MAAAA,IAAI,EAAE,gBADA,CAEN;;AAFM,KAAD,CAAT;AAIH,GAPD,CAOE,OAAOC,GAAP,EAAY;AACV,UAAMF,GAAG,CAAC;AAAE;AACRC,MAAAA,IAAI,EAAE,gBADA,CAEN;;AAFM,KAAD,CAAT;AAIH;AACJ;;AAED,SAASE,SAAT,GAAqB;AACjB,SAAOf,KAAK,CAACS,IAAN,CAAW,aAAX,CAAP;AACH;;AAED,UAAUH,MAAV,GAAmB;AACf,MAAG;AACC;AACA,UAAMK,KAAK,CAAC,IAAD,CAAX;AACA,UAAMC,GAAG,CAAC;AACNC,MAAAA,IAAI,EAAE,iBADA,CAEN;;AAFM,KAAD,CAAT;AAIH,GAPD,CAOE,OAAOC,GAAP,EAAY;AACV,UAAMF,GAAG,CAAC;AAAE;AACRC,MAAAA,IAAI,EAAE,iBADA,CAEN;;AAFM,KAAD,CAAT;AAIH;AACJ","sourcesContent":["import { all, fork } from \"redux-saga/effects\";\nimport axios from 'axios';\n\nexport default function* userSaga() {\n    yield all([\n        fork(watchLogIn),\n        fork(watchLogOut),\n    ])\n}\n\nfunction* watchLogIn() {\n    yield takeLatest('LOG_IN_REQUEST', logIn); //LOG_IN이 들어오면 logIn을 실행하는 일종의 이벤트리스너?\n} //take의 치명적 단점은 한 번 밖에 listend을 안한다는 것. --> 그래서 while true로 감쌈. or takeEvery 사용\n\nfunction* watchLogOut() {\n    yield takeLatest('LOG_OUT_REQUEST', logOut); //takeLeading은 첫번째꺼\n}\n\nfunction logInAPI(data) {\n    return axios.post('/api/login', data);\n}\n\nfunction* logIn(action) {\n    try{\n        // const result = yield call(logInAPI, action.data);\n        yield delay(1000);\n        yield put({\n            type: 'LOG_IN_SUCCESS',\n            // data: result.data,\n        });\n    } catch (err) {\n        yield put({ // put은 dispatch와 거의 같음.\n            type: 'LOG_IN_FAILURE',\n            // data: err.response.data,\n        });\n    }    \n}\n\nfunction logOutAPI() {\n    return axios.post('/api/logout');\n}\n\nfunction* logOut() {\n    try{\n        // const result = yield call(logOutAPI);\n        yield delay(1000);\n        yield put({\n            type: 'LOG_OUT_SUCCESS',\n            // data: result.data,\n        });\n    } catch (err) {\n        yield put({ // put은 dispatch와 거의 같음.\n            type: 'LOG_OUT_FAILURE',\n            // data: err.response.data,\n        });\n    }    \n}"]},"metadata":{},"sourceType":"module"}